{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/module/Module.ts","webpack:///./src/lib/config/domIdentifiers.ts","webpack:///./src/lib/util/PageUtil.ts","webpack:///./src/lib/util/ClassUtil.ts","webpack:///./src/extension.ts","webpack:///./src/lib/module/modules/MsuHrefModule.ts","webpack:///./src/lib/module/modules/QuizModule.ts","webpack:///./src/lib/module/modules/StepModule.ts","webpack:///./src/lib/module/modules/VideoModule.ts","webpack:///./src/lib/event/TapEventListener.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Module","loadModules","_i","arguments","length","_a","modules_1","start","default","videoClass","quizClass","videoId","videoContainerId","stepDataId","siteDataId","msuLinkHeaderClass","domIdentifiers_1","PageUtil","isClassElementPresent","className","elements","document","getElementsByClassName","getNavigationBar","querySelector","getSiteData","siteDataElement","getElementById","JSON","parse","innerText","ComponentUtil","autoBind","context","props","contextPrototype","getPrototypeOf","getOwnPropertyNames","props_1","prop","descriptor","getOwnPropertyDescriptor","protectedJavaScriptProperties","includes","bindMethod","proto","method","functionToBind","configurable","this","boundFunction","writable","Module_1","MsuHrefModule_1","QuizModule_1","StepModule_1","VideoModule_1","PageUtil_1","MsuHrefModule","_super","__extends","data","linkElement","setAttribute","root","QuizModule","getNextQuestionButton","isPageQuiz","onkeydown","e","quizContinueKeys","nextQuestionButton","click","StepModule","_this","getStepData","metadata","processData","element","dataText","step","isStepEnabled","current","sections","section","tag","index","console","log","totalSections","navigationBar","progressElement","createElement","appendChild","TapEventListener_1","ClassUtil_1","VideoModule","onMutation","mutations","observer","mutations_1","mutation","target","Element","id","addVideoHooks","disconnect","toggleVideoState","_video","paused","play","pause","onTap","catch","error","updatePlaybackRate","newPlaybackRate","_playbackDisplay","playbackRate","video","videoContainer","_videoContainer","videoContentDiv","insertAdjacentElement","listen","addEventListener","currentTime","Math","max","_secondsToScrub","preventDefault","min","duration","_playbackRateChange","isPageVideo","MutationObserver","observe","childList","subtree","TapEventListener","_isActive","_initialTouchTime","getMovementDelta","newer","older","x","pageX","y","pageY","onTouchStart","event","TouchEvent","touches","_initialTouch","Date","now","onTouchMove","_lastTouch","movement","sqrt","pow","_dragMaxSqrtDistance","onTouchEnd","_tapMaxTimeMs","addHooks"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","export default abstract class Module {\r\n    abstract start(): void;\r\n\r\n    static loadModules(...modules: Module[]): void {\r\n        for (const module of modules) {\r\n            module.start();\r\n        }\r\n    }\r\n}","export default {\r\n    videoClass: 'cl-video',\r\n    quizClass: 'cl-quiz',\r\n    videoId: 'vjs_video_3_html5_api',\r\n    videoContainerId: 'vjs_video_3',\r\n    stepDataId: 'cl-step',\r\n    siteDataId: 'cl-site',\r\n    msuLinkHeaderClass: 'masthead'\r\n}\r\n","import ISiteData from '../../interfaces/site/ISiteData';\r\nimport domIdentifiers from '../config/domIdentifiers';\r\nexport default abstract class PageUtil {\r\n    static isClassElementPresent(className: string): boolean {\r\n        const elements = document.getElementsByClassName(className);\r\n\r\n        return !!(elements && elements.length && elements[0]);\r\n    }\r\n\r\n    static get isPageQuiz(): boolean {\r\n        return PageUtil.isClassElementPresent(domIdentifiers.quizClass);\r\n    }\r\n\r\n    static get isPageVideo(): boolean {\r\n        return PageUtil.isClassElementPresent(domIdentifiers.videoClass);\r\n    }\r\n\r\n    static getNavigationBar(): HTMLUListElement | null {\r\n        return document.querySelector('nav ul');\r\n    }\r\n\r\n    static getSiteData(): ISiteData | null {\r\n        const siteDataElement = document.getElementById(domIdentifiers.siteDataId);\r\n\r\n        if (!siteDataElement) {\r\n            return null;\r\n        }\r\n\r\n        return JSON.parse(siteDataElement.innerText);\r\n    }\r\n}\r\n","export default class ComponentUtil {\r\n    /**\r\n     * There is a react-autobind module that some of our other projects use.\r\n     * I had previously installed this module and was looking at the source on github to make\r\n     * typescript definitions for it, and it's pretty bad. So this is a mini refactor of it, since\r\n     * it's really short anyways.\r\n     *\r\n     * Referenced from\r\n     * https://github.com/cassiozen/React-autobind/blob/master/src/autoBind.js\r\n     */\r\n    static autoBind(context: any, ...props: string[]): void {\r\n        const contextPrototype = Object.getPrototypeOf(context);\r\n\r\n        if (props.length === 0) {\r\n            props = Object.getOwnPropertyNames(contextPrototype);\r\n        }\r\n\r\n        for (const prop of props) {\r\n            const descriptor = Object.getOwnPropertyDescriptor(contextPrototype, prop);\r\n\r\n            // Missing this prop, not a big deal (or the prop isn't a function, so we don't bind it)\r\n            if (descriptor == null || typeof descriptor.value !== 'function') {\r\n                continue;\r\n            }\r\n\r\n            if (ComponentUtil.protectedJavaScriptProperties.includes(prop)) {\r\n                continue;\r\n            }\r\n\r\n            ComponentUtil.bindMethod(contextPrototype, prop, descriptor);\r\n        }\r\n    }\r\n\r\n    // All of the props on the prototype of an empty object should be excluded from binding\r\n    private static protectedJavaScriptProperties: string[] = Object.getOwnPropertyNames(Object.getPrototypeOf({}));\r\n\r\n    /**\r\n     * From autobind-decorator (https://github.com/andreypopp/autobind-decorator/tree/master)\r\n     * Return a descriptor removing the value and returning a getter\r\n     * The getter will return a .bind version of the function\r\n     * and memoize the result against a symbol on the instance\r\n     */\r\n    private static bindMethod(proto: any, method: string, descriptor: PropertyDescriptor) {\r\n        const functionToBind = descriptor.value;\r\n\r\n        Object.defineProperty(proto, method, {\r\n            configurable: true,\r\n            get() {\r\n                if (this === proto || this.hasOwnProperty(method)) {\r\n                    return functionToBind;\r\n                }\r\n\r\n                const boundFunction = functionToBind.bind(this);\r\n\r\n                Object.defineProperty(this, method, {\r\n                    value: boundFunction,\r\n                    configurable: true,\r\n                    writable: true\r\n                });\r\n\r\n                return boundFunction;\r\n            }\r\n        });\r\n    }\r\n}","import Module from './lib/module/Module';\r\nimport MsuHrefModule from './lib/module/modules/MsuHrefModule';\r\nimport QuizModule from './lib/module/modules/QuizModule';\r\nimport StepModule from './lib/module/modules/StepModule';\r\nimport VideoModule from './lib/module/modules/VideoModule';\r\n\r\nModule.loadModules(\r\n    new StepModule(),\r\n    new QuizModule(),\r\n    new VideoModule(),\r\n    new MsuHrefModule()\r\n);","import domIdentifiers from '../../config/domIdentifiers';\r\nimport PageUtil from '../../util/PageUtil';\r\nimport Module from '../Module';\r\n\r\nexport default class MsuHrefModule extends Module {\r\n    start(): void {\r\n        const data = PageUtil.getSiteData();\r\n\r\n        if (!data) {\r\n            return;\r\n        }\r\n\r\n        const linkElement = document.querySelector(`.${domIdentifiers.msuLinkHeaderClass} a`);\r\n\r\n        if (!linkElement) {\r\n            return;\r\n        }\r\n\r\n        linkElement.setAttribute('href', data.root);\r\n    }\r\n}","import domIdentifiers from '../../config/domIdentifiers';\r\nimport PageUtil from '../../util/PageUtil';\r\nimport Module from '../Module';\r\n\r\nexport default class QuizModule extends Module {\r\n    static quizContinueKeys: string[] = ['Enter', 'ArrowRight'];\r\n\r\n    static getNextQuestionButton(): HTMLButtonElement | null {\r\n        return document.querySelector(`.${domIdentifiers.quizClass} button`);\r\n    }\r\n\r\n    start(): void {\r\n        if (!PageUtil.isPageQuiz) {\r\n            return;\r\n        }\r\n\r\n        document.onkeydown = (e: KeyboardEvent) => {\r\n            if (!QuizModule.quizContinueKeys.includes(e.key)) {\r\n                return;\r\n            }\r\n\r\n            const nextQuestionButton = QuizModule.getNextQuestionButton();\r\n\r\n            if (!nextQuestionButton) {\r\n                return;\r\n            }\r\n\r\n            nextQuestionButton.click();\r\n        };\r\n    }\r\n}\r\n","import IStepData from '../../../interfaces/step/IStepData';\r\nimport IStepMetadata from '../../../interfaces/step/IStepMetadata';\r\nimport domIdentifiers from '../../config/domIdentifiers';\r\nimport PageUtil from '../../util/PageUtil';\r\nimport Module from '../Module';\r\n\r\nexport default class StepModule extends Module {\r\n    readonly data: IStepData | null;\r\n    readonly metadata: IStepMetadata | null;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.data = StepModule.getStepData();\r\n        this.metadata = StepModule.processData(this.data);\r\n    }\r\n\r\n    static getStepData(): IStepData | null {\r\n        const element = document.getElementById(domIdentifiers.stepDataId);\r\n\r\n        if (!element) {\r\n            return null;\r\n        }\r\n\r\n        const dataText = element.innerText;\r\n\r\n        return JSON.parse(dataText);\r\n    }\r\n\r\n    static processData(data: IStepData | null): IStepMetadata | null {\r\n        if (!data) {\r\n            return null;\r\n        }\r\n\r\n        if (!data.step) {\r\n            return { isStepEnabled: false };\r\n        }\r\n\r\n        let current;\r\n\r\n        for (let i = 0; i < data.sections.length; ++i) {\r\n            const section = data.sections[i];\r\n\r\n            if (section.tag === data.current) {\r\n                current = {\r\n                    section,\r\n                    index: i\r\n                };\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!current) {\r\n            return { isStepEnabled: true };\r\n        }\r\n\r\n        return {\r\n            isStepEnabled: true,\r\n            current\r\n        };\r\n    }\r\n\r\n    private get totalSections(): number {\r\n        return (this.data && this.data.sections && this.data.sections.length) || 0;\r\n    }\r\n\r\n    start(): void {\r\n        if (!this.data || !this.metadata || !this.metadata.isStepEnabled) {\r\n            return;\r\n        }\r\n\r\n        if (!this.metadata.current) {\r\n            return;\r\n        }\r\n\r\n        console.log('Current section:', this.metadata.current);\r\n        console.log('Total sections:', this.totalSections);\r\n\r\n        const navigationBar = PageUtil.getNavigationBar();\r\n\r\n        if (!navigationBar) {\r\n            return;\r\n        }\r\n\r\n        const progressElement = document.createElement('li');\r\n        progressElement.innerText = `Progress: (${this.metadata.current.index + 1}/${this.totalSections})`;\r\n\r\n        navigationBar.appendChild(progressElement);\r\n    }\r\n}","import domIdentifiers from '../../config/domIdentifiers';\r\nimport TapEventListener from '../../event/TapEventListener';\r\nimport ClassUtil from '../../util/ClassUtil';\r\nimport PageUtil from '../../util/PageUtil';\r\nimport Module from '../Module';\r\n\r\nexport default class VideoModule extends Module {\r\n    private static _secondsToScrub: number = 5;\r\n    private static _playbackRateChange: number = 0.125;\r\n    private _video?: HTMLVideoElement;\r\n    private _videoContainer?: HTMLDivElement;\r\n    private _playbackDisplay?: HTMLElement;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        ClassUtil.autoBind(this);\r\n    }\r\n\r\n    private onMutation(mutations: MutationRecord[], observer: MutationObserver): void {\r\n       for (const mutation of mutations) {\r\n           if (!(mutation.target instanceof Element)) {\r\n               continue;\r\n           }\r\n\r\n           if (mutation.target.id === domIdentifiers.videoId) {\r\n               this.addVideoHooks(mutation.target as HTMLVideoElement);\r\n               observer.disconnect();\r\n               return;\r\n           }\r\n       }\r\n    }\r\n\r\n    private async toggleVideoState() {\r\n        if (!this._video) {\r\n            return;\r\n        }\r\n\r\n        if (this._video.paused) {\r\n           return this._video.play();\r\n        }\r\n\r\n        return this._video.pause();\r\n    }\r\n\r\n    private onTap() {\r\n       this.toggleVideoState()\r\n           .catch(e => console.error('Unable to toggle video state:', e));\r\n    }\r\n\r\n    private updatePlaybackRate(newPlaybackRate: number) {\r\n        if (!this._video || !this._playbackDisplay) {\r\n            return;\r\n        }\r\n\r\n        this._video.playbackRate = newPlaybackRate;\r\n        this._playbackDisplay.innerText = `Playback Speed: ${newPlaybackRate}`;\r\n    }\r\n\r\n    private addVideoHooks(video: HTMLVideoElement) {\r\n        const videoContainer = document.getElementById(domIdentifiers.videoContainerId);\r\n\r\n        if (!videoContainer) {\r\n            return;\r\n        }\r\n\r\n        this._videoContainer = videoContainer as HTMLDivElement;\r\n        this._video = video;\r\n\r\n        const videoContentDiv = document.getElementsByClassName(domIdentifiers.videoClass)[0];\r\n\r\n        if (videoContentDiv) {\r\n            this._playbackDisplay = document.createElement('div');\r\n            this.updatePlaybackRate(this._video.playbackRate);\r\n            videoContentDiv.insertAdjacentElement('afterend', this._playbackDisplay);\r\n        }\r\n\r\n        const tapListener = new TapEventListener(this._videoContainer, this.onTap);\r\n        tapListener.listen();\r\n\r\n        videoContainer.addEventListener('keydown',  (e: KeyboardEvent) => {\r\n            if (['ArrowLeft'].includes(e.key)) {\r\n                video.currentTime = Math.max(video.currentTime - VideoModule._secondsToScrub, 0);\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            if (['ArrowRight'].includes(e.key)) {\r\n                video.currentTime = Math.min(video.duration, video.currentTime + VideoModule._secondsToScrub);\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            if (['_', '-'].includes(e.key)) {\r\n                this.updatePlaybackRate(Math.max(video.playbackRate - VideoModule._playbackRateChange, 0));\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            if (['+', '='].includes(e.key)) {\r\n                this.updatePlaybackRate(video.playbackRate + VideoModule._playbackRateChange);\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            if (['0'].includes(e.key)) {\r\n                this.updatePlaybackRate(1.0);\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n\r\n            if ([' ', 'Space'].includes(e.key)) {\r\n                this.onTap();\r\n                e.preventDefault();\r\n                return;\r\n            }\r\n        });\r\n    }\r\n\r\n    start(): void {\r\n        if (!PageUtil.isPageVideo) {\r\n            return;\r\n        }\r\n\r\n        const video = document.getElementById(domIdentifiers.videoId);\r\n\r\n        if (video) {\r\n            this.addVideoHooks(video as HTMLVideoElement);\r\n            return;\r\n        }\r\n\r\n        const videoContainer = document.getElementsByClassName(domIdentifiers.videoClass)[0];\r\n\r\n        const observer = new MutationObserver(this.onMutation);\r\n\r\n        observer.observe(videoContainer, { childList: true, subtree: true });\r\n    }\r\n}","import ClassUtil from '../util/ClassUtil';\r\n\r\ninterface ITouchMovement {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport default class TapEventListener {\r\n    private static _tapMaxTimeMs: number = 200;\r\n    private static _dragMaxSqrtDistance: number = 20;\r\n    private _initialTouchTime: number;\r\n    private _initialTouch?: Touch;\r\n    private _lastTouch?: Touch;\r\n    private _isActive: boolean;\r\n\r\n    constructor(readonly element: Element, readonly onTap: () => void) {\r\n        ClassUtil.autoBind(this);\r\n\r\n        this._isActive = false;\r\n        this._initialTouchTime = 0;\r\n    }\r\n\r\n    private static getMovementDelta(newer: Touch, older: Touch): ITouchMovement {\r\n        return {\r\n            x: newer.pageX - older.pageX,\r\n            y: newer.pageY - older.pageY\r\n        };\r\n    }\r\n\r\n    private onTouchStart(event: Event) {\r\n        if (!(event instanceof TouchEvent)) {\r\n            return;\r\n        }\r\n\r\n        if (event.touches.length !== 1) {\r\n            return;\r\n        }\r\n\r\n        this._initialTouch = event.touches[0];\r\n        this._initialTouchTime = Date.now();\r\n        this._isActive = true;\r\n    }\r\n\r\n    private onTouchMove(event: Event) {\r\n        if (!(event instanceof TouchEvent)) {\r\n            return;\r\n        }\r\n\r\n        this._lastTouch = event.touches[0];\r\n\r\n        if (!this._initialTouch) {\r\n            return;\r\n        }\r\n\r\n        const movement = TapEventListener.getMovementDelta(this._lastTouch, this._initialTouch);\r\n\r\n        if (Math.sqrt(movement.x ** 2 + movement.y ** 2) >= TapEventListener._dragMaxSqrtDistance) {\r\n            this._isActive = false;\r\n        }\r\n    }\r\n\r\n    private onTouchEnd(event: Event) {\r\n        if (!(event instanceof TouchEvent)) {\r\n            return;\r\n        }\r\n\r\n        if (!this._isActive) {\r\n            return;\r\n        }\r\n\r\n        if (Date.now() - this._initialTouchTime >= TapEventListener._tapMaxTimeMs) {\r\n            return;\r\n        }\r\n\r\n        this.onTap();\r\n    }\r\n\r\n    private addHooks() {\r\n        this.element.addEventListener('touchstart', this.onTouchStart);\r\n        this.element.addEventListener('touchmove', this.onTouchMove);\r\n        this.element.addEventListener('touchend', this.onTouchEnd);\r\n    }\r\n\r\n    public listen() {\r\n        this.addHooks();\r\n    }\r\n}"],"sourceRoot":""}